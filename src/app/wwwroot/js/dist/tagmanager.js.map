{"version":3,"sources":["webpack://Linx/./node_modules/mab-bootstrap-taginput/dist/TagInput.js","webpack://Linx/./node_modules/mab-bootstrap-taginput/dist/index.js","webpack://Linx/./wwwroot/js/tagmanager.ts","webpack://Linx/external \"Mustache\"","webpack://Linx/webpack/bootstrap","webpack://Linx/webpack/startup","webpack://Linx/webpack/runtime/make namespace object"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","TagInput","KeyCodes","KeyNavDirection","Mustache","noop","args","_i","arguments","range","start","count","Array","from","k","controlKeyCodes","ENTER","TAB","BACKSPACE","HOME","END","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","standardValidTagCharacterKeyCodes","concat","options","_this","getId","getLabel","newItemFactory","data","map","item","id","originalInput","input","enableSuggestions","minCharsBeforeShowingSuggestions","allowNewTags","Error","tagDataSeparator","validTagCharacterKeyCodes","allowUpperCase","onTagAdded","onTagRemoved","onTagsChanged","globalCssClassPrefix","placeholderText","getAttribute","htmlTemplate","trim","itemTemplate","suggestionTemplate","parse","warningClass","narrowedInputClass","multiCaseInputClass","suggestionDropdownClass","suggestionDropdownHiddenClass","suggestionClass","selectedSuggestionClass","selectedIds","split","currentSelection","filter","includes","templateData","containerClasses","classList","tags","hiddenInput","name","placeholder","partials","html","render","template","document","createElement","isTextInput","target","el","matches","webkitMatchesSelector","insertAdjacentHTML","tagInputContainer","firstChild","cloneNode","tagInputHiddenInput","querySelector","tagInputTextInput","tagInputSuggestionDropdown","remove","insertAdjacentElement","add","addEventListener","element","contains","stopPropagation","removeTag","parentElement","_a","preventDefault","addTag","keyCode","direction","DOWN","UP","selectedItem","sibling","nextElementSibling","previousElementSibling","allSiblings","querySelectorAll","firstElement","inputValue","getTextInputValue","hideSuggestions","searchValue_1","toUpperCase","suggestions","indexOf","suggestionData","innerHTML","join","showSuggestions","tagElements","lastTagElement","showTagInput","clearTagInput","hideTagInput","focusTagInput","getHiddenInputValue","prototype","getValue","selectedTag","tag","newItem","tagTemplateData","tagHtml","selectedTagElement_1","find","updateHiddenInput","setTimeout","toLowerCase","setAttribute","focus","tagElement","idx","findIndex","i","removedTag","splice","TagInput_1","enumerable","get","tagMergeInputElements","getElementsByClassName","tagInputElement","_ALL_TAGS_MERGE","module","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","r","toStringTag"],"mappings":"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","file":"tagmanager.js","sourcesContent":["\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TagInput = void 0;\r\nvar Mustache = require(\"mustache\");\r\n// tslint:disable-next-line: no-empty\r\nfunction noop() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n}\r\n// So range(10, 10, 5) = [10, 20, 30, 40, 50]\r\nfunction range(start, step, count) {\r\n    return Array.from({ length: count }, function (_, k) { return (k * step) + start; });\r\n}\r\nfunction matches(el, selector) {\r\n    return (el.matches || el.webkitMatchesSelector).call(el, selector);\r\n}\r\nvar KeyCodes;\r\n(function (KeyCodes) {\r\n    KeyCodes[KeyCodes[\"ENTER\"] = 13] = \"ENTER\";\r\n    KeyCodes[KeyCodes[\"TAB\"] = 9] = \"TAB\";\r\n    KeyCodes[KeyCodes[\"BACKSPACE\"] = 8] = \"BACKSPACE\";\r\n    KeyCodes[KeyCodes[\"HOME\"] = 35] = \"HOME\";\r\n    KeyCodes[KeyCodes[\"END\"] = 36] = \"END\";\r\n    KeyCodes[KeyCodes[\"LEFT_ARROW\"] = 37] = \"LEFT_ARROW\";\r\n    KeyCodes[KeyCodes[\"UP_ARROW\"] = 38] = \"UP_ARROW\";\r\n    KeyCodes[KeyCodes[\"RIGHT_ARROW\"] = 39] = \"RIGHT_ARROW\";\r\n    KeyCodes[KeyCodes[\"DOWN_ARROW\"] = 40] = \"DOWN_ARROW\";\r\n})(KeyCodes || (KeyCodes = {}));\r\nvar KeyNavDirection;\r\n(function (KeyNavDirection) {\r\n    KeyNavDirection[KeyNavDirection[\"UP\"] = 0] = \"UP\";\r\n    KeyNavDirection[KeyNavDirection[\"DOWN\"] = 1] = \"DOWN\";\r\n})(KeyNavDirection || (KeyNavDirection = {}));\r\nvar EmptyString = '';\r\nvar controlKeyCodes = [\r\n    KeyCodes.ENTER,\r\n    KeyCodes.TAB,\r\n    KeyCodes.BACKSPACE,\r\n    KeyCodes.HOME,\r\n    KeyCodes.END,\r\n    KeyCodes.LEFT_ARROW,\r\n    KeyCodes.UP_ARROW,\r\n    KeyCodes.RIGHT_ARROW,\r\n    KeyCodes.DOWN_ARROW\r\n];\r\n// Concatenate the key code ranges for numbers and letters\r\n// Note that these are *key* codes, so the letter codes are the same for upper and lower case\r\nvar alphaNumericKeyCodes = range(48, 1, 10).concat(range(65, 1, 26));\r\n// The only symbol allowed by default is minus (-), which can be used to separate words in a tag\r\nvar symbolKeyCodes = [189];\r\nvar standardValidTagCharacterKeyCodes = alphaNumericKeyCodes.concat(symbolKeyCodes).concat(controlKeyCodes);\r\nvar standardHtmlTemplate = \"<div class=\\\"{{globalCssClassPrefix}}{{#containerClasses}} {{containerClasses}}{{/containerClasses}}\\\">\\n    {{#tags}}{{> item}}{{/tags}}\\n    <input class=\\\"{{globalCssClassPrefix}}-data\\\" type=\\\"hidden\\\" name=\\\"{{hiddenInput.name}}\\\" id=\\\"{{hiddenInput.id}}\\\" value=\\\"{{hiddenInput.value}}\\\">\\n    <div class=\\\"{{globalCssClassPrefix}}-input-container\\\">\\n        <input class=\\\"{{globalCssClassPrefix}}-input\\\" type=\\\"text\\\"{{#placeholder}} placeholder=\\\"{{placeholder}}\\\"{{/placeholder}}>\\n        <div class=\\\"{{globalCssClassPrefix}}-suggestions {{globalCssClassPrefix}}-suggestions-hidden\\\"></div>\\n    </div>\\n</div>\";\r\nvar standardItemTemplate = '<div class=\"{{globalCssClassPrefix}}-tag\" data-id=\"{{id}}\" data-label=\"{{label}}\">{{label}} <i class=\"fa fa-times\"></i></div>';\r\nvar standardSuggestionTemplate = '<div class=\"{{globalCssClassPrefix}}-suggestion\" data-id=\"{{id}}\" data-label=\"{{label}}\">{{label}}</div>';\r\nvar TagInput = /** @class */ (function () {\r\n    function TagInput(options) {\r\n        var _this = this;\r\n        this.getId = options.getId;\r\n        this.getLabel = options.getLabel;\r\n        this.newItemFactory = options.newItemFactory;\r\n        this.data = options.data.map(function (item) { return ({ id: _this.getId(item), label: _this.getLabel(item) }); });\r\n        var originalInput = options.input;\r\n        this.enableSuggestions = options.enableSuggestions === false ? false : true;\r\n        this.minCharsBeforeShowingSuggestions = options.minCharsBeforeShowingSuggestions || 2;\r\n        this.allowNewTags = options.allowNewTags === false ? false : true;\r\n        if (this.allowNewTags && !this.newItemFactory) {\r\n            throw Error('A newItemFactory function must be specified if allowNewTags is true');\r\n        }\r\n        this.tagDataSeparator = options.tagDataSeparator || '|';\r\n        this.validTagCharacterKeyCodes = options.validTagCharacterKeyCodes || standardValidTagCharacterKeyCodes;\r\n        this.allowUpperCase = options.allowUpperCase || false;\r\n        this.onTagAdded = options.onTagAdded || noop;\r\n        this.onTagRemoved = options.onTagRemoved || noop;\r\n        this.onTagsChanged = options.onTagsChanged || noop;\r\n        this.globalCssClassPrefix = options.globalCssClassPrefix || 'mab-bootstrap-taginput';\r\n        this.placeholderText = originalInput.getAttribute('placeholder');\r\n        this.htmlTemplate = (options.htmlTemplate || standardHtmlTemplate).trim();\r\n        this.itemTemplate = (options.itemTemplate || standardItemTemplate).trim();\r\n        this.suggestionTemplate = (options.suggestionTemplate || standardSuggestionTemplate).trim();\r\n        Mustache.parse(this.htmlTemplate);\r\n        Mustache.parse(this.itemTemplate);\r\n        Mustache.parse(this.suggestionTemplate);\r\n        this.warningClass = this.globalCssClassPrefix + \"-tag-warning\";\r\n        this.narrowedInputClass = this.globalCssClassPrefix + \"-input-narrowed\";\r\n        this.multiCaseInputClass = this.globalCssClassPrefix + \"-input-multicase\";\r\n        this.suggestionDropdownClass = this.globalCssClassPrefix + \"-suggestions\";\r\n        this.suggestionDropdownHiddenClass = this.globalCssClassPrefix + \"-suggestions-hidden\";\r\n        this.suggestionClass = this.globalCssClassPrefix + \"-suggestion\";\r\n        this.selectedSuggestionClass = this.suggestionClass + \"-selected\";\r\n        var selectedIds = originalInput.value.split(this.tagDataSeparator);\r\n        this.currentSelection = this.data.filter(function (item) { return selectedIds.includes(item.id); });\r\n        var templateData = {\r\n            containerClasses: originalInput.classList.value,\r\n            globalCssClassPrefix: this.globalCssClassPrefix,\r\n            tags: this.currentSelection,\r\n            hiddenInput: {\r\n                name: originalInput.name,\r\n                id: originalInput.id,\r\n                value: originalInput.value,\r\n            },\r\n            placeholder: this.placeholderText\r\n        };\r\n        var partials = {\r\n            item: this.itemTemplate\r\n        };\r\n        var html = Mustache.render(this.htmlTemplate, templateData, partials);\r\n        var template = document.createElement('template');\r\n        template.insertAdjacentHTML('afterbegin', html);\r\n        this.tagInputContainer = template.firstChild.cloneNode(true);\r\n        this.tagInputHiddenInput = this.tagInputContainer.querySelector('[type=hidden]');\r\n        this.tagInputTextInput = this.tagInputContainer.querySelector('[type=text]');\r\n        this.tagInputSuggestionDropdown = this.tagInputContainer.querySelector(\".\" + this.suggestionDropdownClass);\r\n        template.remove();\r\n        originalInput.insertAdjacentElement('afterend', this.tagInputContainer);\r\n        originalInput.remove();\r\n        if (this.allowUpperCase) {\r\n            this.tagInputTextInput.classList.add(this.multiCaseInputClass);\r\n        }\r\n        this.tagInputContainer.addEventListener('click', function (e) {\r\n            var element = e.target;\r\n            if (element.classList.contains('fa-times')) {\r\n                e.stopPropagation();\r\n                _this.removeTag(element.parentElement);\r\n            }\r\n        }, false);\r\n        if (this.enableSuggestions) {\r\n            this.tagInputSuggestionDropdown.addEventListener('mousedown', function (e) { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    e.preventDefault();\r\n                    return [2 /*return*/];\r\n                });\r\n            }); });\r\n            this.tagInputSuggestionDropdown.addEventListener('click', function (e) { return __awaiter(_this, void 0, void 0, function () {\r\n                var element, label;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            element = e.target;\r\n                            label = element.getAttribute('data-label');\r\n                            return [4 /*yield*/, this.addTag(label)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n            this.tagInputTextInput.addEventListener('keyup', function (e) {\r\n                // If the up or down arrows are hit, select the previous/next item in the suggestion list\r\n                if (e.keyCode === KeyCodes.UP_ARROW || e.keyCode === KeyCodes.DOWN_ARROW) {\r\n                    var direction = e.keyCode === KeyCodes.DOWN_ARROW ? KeyNavDirection.DOWN : KeyNavDirection.UP;\r\n                    var selectedItem = _this.tagInputSuggestionDropdown.querySelector(\".\" + _this.selectedSuggestionClass);\r\n                    if (selectedItem) {\r\n                        // TODO: Filter these based on class\r\n                        // https://plainjs.com/javascript/traversing/get-siblings-of-an-element-40/\r\n                        // An item is already selected, so select the previous/next sibling\r\n                        var sibling = direction === KeyNavDirection.DOWN\r\n                            ? selectedItem.nextElementSibling\r\n                            : selectedItem.previousElementSibling;\r\n                        // If sibling is null, we've reached the end (or beginning) of the list,\r\n                        // so skip back around to the first (or last) item\r\n                        if (!sibling) {\r\n                            var allSiblings = _this.tagInputSuggestionDropdown.querySelectorAll(\".\" + _this.suggestionClass);\r\n                            if (direction === KeyNavDirection.DOWN) {\r\n                                sibling = allSiblings[0];\r\n                            }\r\n                            else {\r\n                                sibling = allSiblings[allSiblings.length - 1];\r\n                            }\r\n                        }\r\n                        selectedItem.classList.remove(_this.selectedSuggestionClass);\r\n                        sibling.classList.add(_this.selectedSuggestionClass);\r\n                        _this.tagInputTextInput.value = sibling.getAttribute('data-label');\r\n                    }\r\n                    else if (direction === KeyNavDirection.DOWN) {\r\n                        var firstElement = _this.tagInputSuggestionDropdown.firstChild;\r\n                        firstElement.classList.add(_this.selectedSuggestionClass);\r\n                        _this.tagInputTextInput.value = firstElement.getAttribute('data-label');\r\n                    }\r\n                }\r\n                else if (_this.validTagCharacterKeyCodes.includes(e.keyCode)) {\r\n                    var inputValue = _this.getTextInputValue(_this.allowUpperCase);\r\n                    if (inputValue.length < _this.minCharsBeforeShowingSuggestions) {\r\n                        _this.hideSuggestions();\r\n                        return;\r\n                    }\r\n                    var searchValue_1 = inputValue.toUpperCase();\r\n                    var suggestions = _this.data\r\n                        .filter(function (t) { return !_this.currentSelection.includes(t); })\r\n                        .filter(function (t) { return t.label.toUpperCase().indexOf(searchValue_1) > -1; })\r\n                        .map(function (t) {\r\n                        var suggestionData = {\r\n                            globalCssClassPrefix: _this.globalCssClassPrefix,\r\n                            id: t.id,\r\n                            label: t.label\r\n                        };\r\n                        return Mustache.render(_this.suggestionTemplate, suggestionData);\r\n                    });\r\n                    // TODO: show message (hit enter to add new tag) if no suggestions and new tags allowed?\r\n                    if (!suggestions.length) {\r\n                        _this.hideSuggestions();\r\n                        return;\r\n                    }\r\n                    _this.tagInputSuggestionDropdown.innerHTML = suggestions.join('');\r\n                    _this.showSuggestions();\r\n                }\r\n            });\r\n        }\r\n        this.tagInputTextInput.addEventListener('keydown', function (e) { return __awaiter(_this, void 0, void 0, function () {\r\n            var inputValue, tagElements, lastTagElement;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.validTagCharacterKeyCodes.includes(e.keyCode)) {\r\n                            e.preventDefault();\r\n                        }\r\n                        inputValue = this.getTextInputValue(this.allowUpperCase);\r\n                        if (!(e.keyCode === KeyCodes.ENTER && inputValue !== EmptyString)) return [3 /*break*/, 2];\r\n                        // Stop the form being submitted and prevent event bubbling\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        return [4 /*yield*/, this.addTag(inputValue)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        // If backspace is hit and there's nothing in the input (if the input *isn't* empty,\r\n                        // we don't want to prevent the default action, which is deleting a character)\r\n                        if (e.keyCode === KeyCodes.BACKSPACE && inputValue === EmptyString) {\r\n                            tagElements = this.tagInputContainer.querySelectorAll(\".\" + this.globalCssClassPrefix + \"-tag\");\r\n                            if (tagElements.length) {\r\n                                lastTagElement = tagElements[tagElements.length - 1];\r\n                                this.removeTag(lastTagElement);\r\n                            }\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n        function isTextInput(target) {\r\n            var element = target;\r\n            return matches(element, 'input[type=text]');\r\n        }\r\n        this.tagInputTextInput.addEventListener('focus', function (e) {\r\n            if (isTextInput(e.target)) {\r\n                _this.showTagInput();\r\n            }\r\n        });\r\n        this.tagInputTextInput.addEventListener('blur', function (e) {\r\n            if (isTextInput(e.target)) {\r\n                _this.clearTagInput();\r\n                _this.hideSuggestions();\r\n                if (_this.currentSelection.length) {\r\n                    _this.hideTagInput();\r\n                }\r\n            }\r\n        });\r\n        // Focus the text input when the control container is clicked, which triggers\r\n        // the show/hide behaviours defined in the handlers above\r\n        this.tagInputContainer.addEventListener('click', function (e) {\r\n            _this.focusTagInput();\r\n        });\r\n        // If the control already has some tags in it, hide the text input on load\r\n        if (this.getHiddenInputValue() !== EmptyString) {\r\n            this.hideTagInput();\r\n        }\r\n    }\r\n    TagInput.prototype.getValue = function () {\r\n        return this.getHiddenInputValue();\r\n    };\r\n    TagInput.prototype.addTag = function (label) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var selectedTag, tag, newItem, tagTemplateData, tagHtml, selectedTagElement_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        selectedTag = this.currentSelection.find(function (t) { return t.label === label; });\r\n                        if (!!selectedTag) return [3 /*break*/, 3];\r\n                        tag = this.data.find(function (t) { return t.label === label; });\r\n                        if (!!tag) return [3 /*break*/, 2];\r\n                        // If this input shouldn't allow new tags, just return now\r\n                        if (!this.allowNewTags) {\r\n                            // TODO: make the UX a bit better (red text? callback function to handle error?)\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [4 /*yield*/, this.newItemFactory(label)];\r\n                    case 1:\r\n                        newItem = _a.sent();\r\n                        tag = {\r\n                            id: this.getId(newItem),\r\n                            label: this.getLabel(newItem)\r\n                        };\r\n                        // Add the tag to the internal data source, so that if it's deleted and re-added again\r\n                        // then we get it from there next time and don't create another new one\r\n                        this.data.push(tag);\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        this.currentSelection.push(tag);\r\n                        tagTemplateData = {\r\n                            id: tag.id,\r\n                            label: tag.label,\r\n                            globalCssClassPrefix: this.globalCssClassPrefix\r\n                        };\r\n                        tagHtml = Mustache.render(this.itemTemplate, tagTemplateData);\r\n                        // Insert the new tag before the hidden input\r\n                        this.tagInputHiddenInput.insertAdjacentHTML('beforebegin', tagHtml);\r\n                        this.clearTagInput();\r\n                        this.hideSuggestions();\r\n                        this.updateHiddenInput(this.currentSelection);\r\n                        this.onTagAdded(this, [tag], this.currentSelection);\r\n                        this.onTagsChanged(this, [tag], [], this.currentSelection);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        selectedTagElement_1 = this.tagInputContainer\r\n                            .querySelector(\".\" + this.globalCssClassPrefix + \"-tag[data-label=\\\"\" + selectedTag.label + \"\\\"]\");\r\n                        selectedTagElement_1.classList.add(this.warningClass);\r\n                        this.clearTagInput();\r\n                        setTimeout(function () {\r\n                            selectedTagElement_1.classList.remove(_this.warningClass);\r\n                        }, 1500);\r\n                        _a.label = 4;\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TagInput.prototype.getTextInputValue = function (allowUpperCase) {\r\n        var value = this.tagInputTextInput.value.trim();\r\n        return !allowUpperCase\r\n            ? value.toLowerCase()\r\n            : value;\r\n    };\r\n    TagInput.prototype.getHiddenInputValue = function () {\r\n        return this.tagInputHiddenInput.value.trim();\r\n    };\r\n    TagInput.prototype.showTagInput = function () {\r\n        if (this.placeholderText) {\r\n            this.tagInputTextInput.setAttribute('placeholder', this.placeholderText);\r\n        }\r\n        // Remove the narrowing class, restoring input to its original width\r\n        this.tagInputTextInput.classList.remove(this.narrowedInputClass);\r\n    };\r\n    TagInput.prototype.focusTagInput = function () {\r\n        this.tagInputTextInput.focus();\r\n    };\r\n    TagInput.prototype.hideTagInput = function () {\r\n        if (this.getTextInputValue(this.allowUpperCase) === EmptyString) {\r\n            this.tagInputTextInput.setAttribute('placeholder', EmptyString);\r\n            // When the tag text input loses focus, add a class which narrows it\r\n            // to 1px wide. This is to avoid odd visual effects when the tags in\r\n            // the control wrap onto multiple lines\r\n            this.tagInputTextInput.classList.add(this.narrowedInputClass);\r\n        }\r\n    };\r\n    TagInput.prototype.clearTagInput = function () {\r\n        this.tagInputTextInput.value = null;\r\n    };\r\n    TagInput.prototype.updateHiddenInput = function (data) {\r\n        this.tagInputHiddenInput.value = data.map(function (t) { return t.id; }).join(this.tagDataSeparator);\r\n    };\r\n    TagInput.prototype.showSuggestions = function () {\r\n        this.tagInputSuggestionDropdown.classList.remove(this.suggestionDropdownHiddenClass);\r\n    };\r\n    TagInput.prototype.hideSuggestions = function () {\r\n        this.tagInputSuggestionDropdown.classList.add(this.suggestionDropdownHiddenClass);\r\n    };\r\n    TagInput.prototype.removeTag = function (tagElement) {\r\n        var label = tagElement.getAttribute('data-label');\r\n        var idx = this.currentSelection.findIndex(function (i) { return i.label === label; });\r\n        var removedTag = this.currentSelection[idx];\r\n        this.currentSelection.splice(idx, 1);\r\n        tagElement.remove();\r\n        this.updateHiddenInput(this.currentSelection);\r\n        this.onTagRemoved(this, [removedTag], this.currentSelection);\r\n        this.onTagsChanged(this, [], [removedTag], this.currentSelection);\r\n    };\r\n    return TagInput;\r\n}());\r\nexports.TagInput = TagInput;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TagInput = void 0;\r\nvar TagInput_1 = require(\"./TagInput\");\r\nObject.defineProperty(exports, \"TagInput\", { enumerable: true, get: function () { return TagInput_1.TagInput; } });\r\n","import { ITag, TagInput } from 'mab-bootstrap-taginput';\r\n\r\ndeclare const _ALL_TAGS_MERGE: ITag[];\r\n\r\nconst tagMergeInputElements = document.getElementsByClassName('tag-input-merge');\r\n\r\nfor (const tagInputElement of tagMergeInputElements) {\r\n    new TagInput<ITag>({\r\n        input: (tagInputElement as HTMLElement),\r\n        data: _ALL_TAGS_MERGE || [],\r\n        getId: item => item.id,\r\n        getLabel: item => item.label,\r\n        allowNewTags: false,\r\n        minCharsBeforeShowingSuggestions: 1\r\n    });\r\n}\r\n","module.exports = Mustache;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(844);\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}